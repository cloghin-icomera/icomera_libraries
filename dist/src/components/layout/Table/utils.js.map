;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAAOC,OAAP,EAAmB;AAChC,MAAIC,KAAJ,EAAWC,KAAX;;AACA,qCAA4BC,MAAM,CAACC,OAAP,CAAeJ,OAAf,CAA5B,qCAAsD;AAAA;AAAA,QAAzCK,GAAyC;AAAA,QAApCC,KAAoC;;AAClDL,IAAAA,KAAK,GAAGI,GAAR;AACAH,IAAAA,KAAK,GAAGI,KAAR;AACH;;AAED,SACI,mBAAIP,IAAJ,EAAUQ,IAAV,CACI,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACN,QAAID,CAAC,CAACP,KAAD,CAAD,GAAWQ,CAAC,CAACR,KAAD,CAAhB,EAAyB;AACrB,aAAOC,KAAK,KAAK,KAAV,GAAkB,CAAC,CAAnB,GAAuB,CAA9B;AACH;;AACD,QAAIM,CAAC,CAACP,KAAD,CAAD,GAAWQ,CAAC,CAACR,KAAD,CAAhB,EAAyB;AACrB,aAAOC,KAAK,KAAK,KAAV,GAAkB,CAAlB,GAAsB,CAAC,CAA9B;AACH;;AACD,WAAO,CAAP;AACH,GATL,CADJ;AAaH,CApBD;;AAsBA,IAAMQ,UAAU,GAAG,SAAbA,UAAa,CAACX,IAAD,EAAOY,SAAP,EAAqB;AACpC,SACIZ,IAAI,CAACa,MAAL,CAAa,UAAAC,KAAK,EAAI;AAClB,QAAIC,KAAK,GAAG,IAAZ;;AACA,SAAM,IAAMC,IAAZ,IAAoBJ,SAApB,EAA+B;AAC3B,UAAMK,MAAM,GAAGH,KAAK,CAACE,IAAD,CAAL,CAAYE,QAAZ,GAAuBC,WAAvB,EAAf;AACA,UAAMC,MAAM,GAAGR,SAAS,CAACI,IAAD,CAAT,CAAgBT,KAAhB,CAAsBY,WAAtB,EAAf;;AACA,UAAI,CAACF,MAAM,CAACI,QAAP,CAAgBD,MAAhB,CAAL,EAA8B;AAC1BL,QAAAA,KAAK,GAAG,KAAR;AACH;AACJ;;AACD,WAAOA,KAAP;AACH,GAVD,CADJ;AAaH,CAdD;;AAgBO,IAAMO,iBAAiB,GAAG,SAApBA,iBAAoB,CAACtB,IAAD,EAAOY,SAAP,EAAkBX,OAAlB,EAA8B;AAC3D,SAAOF,QAAQ,CACXY,UAAU,CAACX,IAAD,EAAOY,SAAP,CADC,EAEXX,OAFW,CAAf;AAIH,CALM